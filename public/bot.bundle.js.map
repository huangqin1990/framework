{"version":3,"file":"bot.bundle.js","sources":["../core/platform.js","../core/runtime.js"],"sourcesContent":["const agentRegExp = /(iOS|Android)MPAdapter\\/(\\d+(\\.?\\d*))(\\(.*\\)|\\/.*)?/;\n\nexport const getPlatformInfo = () => {\n    const platformInfo = { }\n    const execAgent = agentRegExp.exec(navigator.userAgent);\n    platformInfo.platform = execAgent ? execAgent[1].toLowerCase() : 'web';\n    platformInfo.version = execAgent ? execAgent[2] : -1;\n    platformInfo.features = execAgent ? execAgent[4] : '';\n    return platformInfo;\n}","// 初始化后的App对象所需要的运行时环境，包含了一些全局变量和方法，包含平台状态，注册插件等\nimport { getPlatformInfo } from \"./platform\"\n\nconst GlobalAppState = new Map()\n\nexport const createBotApp = () => {\n   const { platform, features, version } = getPlatformInfo()\n   console.log('platform', platform, features, version)\n   // const isReady = () => {\n   //    const iosReady = platform === 'ios' && version >=1 && /mixPMPrompt|usePostMessage/.test(features)\n   //    return iosReady() && window?.webkit?.messageHandlers?.BOTbridge\n   // }\n}\n"],"names":["agentRegExp","platformInfo","execAgent","_getPlatformInfo","exec","navigator","userAgent","platform","toLowerCase","version","features","console","log"],"mappings":";4CAAA,IAAMA,EAAc,4ECKQ,WACzB,IDHOC,EACAC,ECEPC,GDHOF,EAAe,CAAA,EACfC,EAAYF,EAAYI,KAAKC,UAAUC,WAC7CL,EAAaM,SAAWL,EAAYA,EAAU,GAAGM,cAAgB,MACjEP,EAAaQ,QAAUP,EAAYA,EAAU,IAAM,EACnDD,EAAaS,SAAWR,EAAYA,EAAU,GAAK,GAC5CD,GCFAM,EAAQJ,EAARI,SAAUG,EAAQP,EAARO,SAAUD,EAAON,EAAPM,QAC5BE,QAAQC,IAAI,WAAYL,EAAUG,EAAUD,EAK/C"}