# framework
先行测试工程

原有流程为: 初始化->获取平台adapter->检查平台状态(等待完成)->载入BOTbridge(BOT)


原有fw存在的问题：
1: 依赖angularjs 1.x的模块化，结构混乱，不支持tree shaking，不支持esm，导致代码体积，扩展和安装使用上都比较困难。
2: 无用和重复代码较多，没有注释，维护上困难。回调数据和错误信息没有统一结构化，平台兼容性没有统一处理。在使用者在处理回调结果和错误信息时很容易犯错，
并且不少场景下还需要使用者自行判断平台处理，体验和稳定性都影响。
3: 在调用方法时候没有权限验证提示，经常不知道为啥没反应，方法和apiLevel没有关联性，存在客户端更新了，fw没有更新导致代码逻辑错误。
4: 更新信息输出没有md，没有eslint，没有babel，代码规范和兼容性没有保障


针对以上问题，需要进行fw的重新设计
从以下几个方向去依次处理：
1: 工程结构
   考虑到BOTIM生态体系，和可能需要前端模板的脚手架加入或者是绑定fw的ui，及fw本身的脚手架扩展，插件等情况，会存在多个project，目前只处理一个project，
   使用pnpm组织monorepo的形式去进行工程管理, 后续扩展也容易维护，新的fw在BOTIM体系下 为core包，安装类似: npm install @bt/core
2: 打包
   打包需要考虑两个平台，web平台与native平台。web平台为iife模式。native为esm模式，方便按需加载
3: 发布
   待补充

